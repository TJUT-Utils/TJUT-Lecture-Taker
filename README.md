# TJUT-Lecture-Taker
天津理工自助抢课

临时糊出来的，后续应该不用维护，大概）

Readme图待补充

进入右侧release中下载对应系统版本的可执行文件

**给服务器一点小小的高并发震撼😋**

### 配置
目前仅支持体育课和公选课进行操作

首次使用会在同目录下生成lecture.config.toml，人类阅读友好，免去检查花括号或缩进的痛苦（

startTime为选课开始时间，请严格按照生成出的RFC3339Nano格式时间进行修改，T之前为日期，+之前为时间，其他不用修改，建议填写为选课前半分钟

duration为每隔x纳秒进行一次请求，会同时请求所有志愿，默认填写为500000000纳秒，即0.5秒

first开头为第一志愿

second开头为第二志愿

third开头为第三志愿

peid为体育课ID

publicid为公选课ID

课程id均需要填成字符串格式，**即使用"环绕内容**

课程id获取方式为对最右侧选课进行右键，点击审查元素，复制onclick属性里面括号内的数字

前九位为上课学年学期，后两位为班级序号

cookies直接从网页上复制一份下来即可，**每个cookie之间用英文半角分号隔开**，**建议选课前3分钟登录并复制cookie，并在浏览器以十五秒左右为间隔反复查询课表及志愿情况，以免session失效**

### 关于session
session失效很玄学，低负载且有操作的情况下，目前观测到最短十分钟就可能会掉，**故不提供登录选项**，无论是ocr打码识别还是人力输入验证码浪费的时间都够长，不如直接拉cookie

另一个点是，在人多的情况下提示登录失效，对应session仍然可以获取到正确用户信息，所以个人猜测提示登录失效的原因在于人数太多，缓存session的那部分业务挂了，只要不按照网页逻辑去请求logout接口（开始选课后挂着网页，不要进行任何操作），session应该仍能够使用，所以提示登录失败不要着急更新cookie

一是**静待十五分钟，应该会有提示某些课选课成功**

二是他静态资源都炸了，也不太可能登录上去








